<!DOCTYPE html>
<html lang="en">

<head>
  <!-- HTML5 META Tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Crucible Dashboard">
  <meta name="author" content="Neil Pathare">

  <title>Crucible Dashboard</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Mina" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">

  <!-- Vendor Imports (CSS) -->
  <link href="../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../node_modules/@fortawesome/fontawesome-free-webfonts/css/fa-solid.css" rel="stylesheet">
  <link href="../node_modules/@fortawesome/fontawesome-free-webfonts/css/fontawesome.css" rel="stylesheet">

  <!-- App CSS -->
  <link href="../src/css/app.css" rel="stylesheet">
  <link href="../src/css/navbar.css" rel="stylesheet">
  <link href="../src/css/sidebar.css" rel="stylesheet">
  <link href="../src/css/modal.css" rel="stylesheet">

  <!-- 
    jQuery (Required by Bootstrap)
    Should be declared before other JS imports
   -->
  <script>
    var $ = jQuery = require("jquery")
  </script>

  <!-- Vendor Imports (JS) -->
  <script src="../node_modules/jquery/dist/jquery.slim.min.js"></script>
  <script src="../node_modules/popper.js/dist/umd/popper.min.js"></script>
  <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>

  <!-- App JS -->
  <script src="../src/js/renderer/ipc.js"></script>
  <script src="../src/js/renderer/app-renderer.js"></script>
  <script src="../src/js/renderer/serverModal.js"></script>
  <script src="../src/js/renderer/loginModal.js"></script>
</head>

<body>
  <!-- App Wrapper (includes everything except the Modals -->
  <div id="appWrapper" class="app-wrapper blackout">
    <!-- App Side Nav Bar -->
    <nav id="sidebar">
      <div class="sidebar-header"></div>

      <!-- App Side Nav Bar Components -->
      <ul class="list-unstyled list-components">
        <li>
          <button class="btn btn-primary nav-btn nav-btn-first">Create JIRA</button>
        </li>
        <li>
          <button class="btn btn-primary nav-btn nav-btn-mid">Create Review</button>
        </li>
        <li>
          <button class="btn btn-primary nav-btn nav-btn-mid">Pending Reviews</button>
        </li>
        <li>
          <button class="btn btn-primary nav-btn nav-btn-mid">Open Reviews</button>
        </li>
      </ul>

      <!-- App Side Nav Bar Settings & Logout -->
      <ul class="list-unstyled list-components">
        <li>
          <button class="btn btn-dark nav-btn-sml" onclick="launchServerModal()" title="Server Instances">
            <i class="fas fa-server"></i>
          </button>
          <button class="btn btn-dark nav-btn-sml" title="Settings">
            <i class="fas fa-cog"></i>
          </button>
          <button class="btn btn-dark nav-btn-sml" onclick="reloadPage()" title="Reload">
            <i class="fas fa-sync-alt"></i>
          </button>
        </li>
        <li>
          <button class="btn btn-danger nav-btn nav-btn-last">Logout</button>
        </li>
      </ul>

    </nav>

    <!-- App Top Nav Bar Header -->
    <header>
      <nav class="navbar navbar-expand-md fixed-top">
        <div id="sideNavContent" class="side-nav-content">
          <!-- App Side Nav Bar Toggle -->
          <button type="button" id="sidebarCollapse" class="navbar-btn">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <img src="" height="45" width="45" id="profilePicture" style="display: none;">
        <!-- Centered App Brand Label -->
        <ul class="nav navbar-nav mx-auto">
          <li class="nav-item">
            <span class="navbar-brand-label">Crucible Dashboard</span>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li>
            <button type="button" class="pull-right app-title-btn top-nav-content" onclick="minimizeApp()">&nbsp;&#8722;&nbsp;</button>
          </li>
          <li>
            <button type="button" class="pull-right app-title-btn top-nav-content" onclick="maximizeApp()">&nbsp;&#2109;&nbsp;</button>
          </li>
          <li>
            <button type="button" class="pull-right app-title-btn top-nav-content" onclick="closeApp()">&nbsp;X&nbsp;</button>
          </li>
        </ul>
      </nav>
    </header>

    <!-- Main Content -->
    <main role="main" class="container content">
      Content Goes Here.
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        node.js:
        <script>
          document.write(process.versions.node)
        </script> | Chromium:
        <script>
          document.write(process.versions.chrome)
        </script> | Electron:
        <script>
          document.write(process.versions.electron)
        </script> | Crucible Dashboard Â©
        <script type="text/javascript">
          document.write(new Date().getFullYear())
        </script>
      </div>
    </footer>
  </div>

  <!-- Server Instances Modal -->
  <div class="modal fade bd-example-modal-lg" id="serverModal" tabindex="-1" role="dialog" aria-labelledby="serverModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header modal-background">
          <h5 class="modal-title" id="serverModalLabel">Server Instances</h5>
        </div>
        <div class="modal-body modal-background">
          <p class="lead">Crucible server instance(s):
            <button type="button" class="btn btn-primary btn-sm btn-modal" onclick="addServerInstanceInput(null)">&nbsp;+&nbsp;</button>
            <div class="form-check form-check-inline">
              <label class="form-check-label">
                <input type="checkbox" class="form-check-input" value="" onchange="checkServerModalHTTPS(this);" id="httpsCheckBox">HTTPS
              </label>
            </div>
          </p>
          <div class="crucible-server-input" id="crucibleServerInputDiv">
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text server-modal-input-https-span" id="basic-addon3">http://</span>
              </div>
              <input type="text" class="form-control crucible-server" id="basic-url" aria-describedby="basic-addon3" autofocus>
            </div>
          </div>
        </div>
        <div class="modal-footer modal-background">
          <button type="button" class="btn btn-primary" onclick="saveServerInput()" data-dismiss="modal">Save</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Login Modal -->
  <div class="modal fade bd-example-modal-sm" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
      <div class="modal-content modal-background">
        <div class="modal-body modal-background" style="margin:0 auto; text-align: center;">
          <div class="login-input" id="loginInputDiv">
            <div class="input-group mb-3">
              <input id="userID" class="form-control credential-input" type="text" autofocus="true" placeholder="User ID" style="margin:0 auto; width:200px;">
            </div>
            <div class="input-group mb-3">
              <input id="password" class="form-control credential-input" type="password" placeholder="Password" style="margin:0 auto; width:200px;">
            </div>
          </div>
          <button type="button" class="btn btn-primary" onclick="login()">Login</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Self executing function for 'active' class toggle on Side Bar Collapse
    // jQuery:
    $(document).ready(function () {
      $('#sidebarCollapse').on('click', function () {
        $('#sidebar').toggleClass('active');
        $(this).toggleClass('active');
      });
    });
    // JavaScript:
    // (function() {
    //   document.getElementById("sidebarCollapse").addEventListener("click", function(event){
    //     document.querySelector('#sidebar').classList.toggle('active');
    //     event.target.classList.toggle('active');
    //   });
    // })();

    const appConstants = require("../src/js/constants/app-constants");
  </script>
</body>

</html>